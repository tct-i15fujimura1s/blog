---
layout: post
title:  "第48回 TechFUL Coding Battle"
date:   2022-06-26 07:00:00 +0900
categories: jekyll update
tags:
- TechFUL
- TCB
---

こんにちは、お久しぶりです。

長い間何もしていなかった気がします。
TCBは月に1回なので久しぶりなのは当たり前ですが、参加記録を書くのは本当に久しぶりです。もしかすると、半年くらい書いていないかも。
リハビリも兼ねて書いていきます。

# 「自己ループと多重辺」

問題名から、自己ループや多重辺の検出をさせられるんだろうな・・・と思って、グラフを入力する準備をしていたら、拍子抜け。確かに自己ループや多重辺の検出でしたが、辺がたった2本しかありませんでした。

# 「元の順番」

またもや非典型的な入力形式です。方針について少々悩んだのですが、`L[i]`が`-1`になる`i`を見つけて、そこから右へ右へとたどっていくことにしました。

# 「完全マッチング of 完全グラフ」

問題名がいかにもだったので、開く前に完全グラフの完全マッチングについて少し考えました。ほとんど考える必要もないですが、明らかに頂点が奇数個なら完全マッチングはありません。逆に、頂点が偶数個なら、例えば隣り合う番号の頂点をマッチングさせるなどすれば必ず作ることができます。

# 「近い頂点」

頂点数がやけに小さかったので、何か楽な方法があったのかなあ・・・と思いつつ、BFS。

# 「縁起の良い並べ方」

少し考え込みました。`N`がそこそこ大きいので、全部の組合せを試すのは無理です。左端と真ん中の石だけ決めた時、右端の石が何種類ありうるか考えることはできるか・・・？確かにできました。何の制約もないとしたら、右端の石は`N-2`個です。ここから真ん中の石の右隣に来てはいけないものを除き、そのとき除いたものに左端の石が含まれていれば、それをさらに追加します。

# 「完全二分木の直径」

重みなしの場合を期待していましたが、そう甘くはありませんでした。取り敢えず、左右の大きな部分木から、根からの距離が最も遠くなる点をそれぞれ選んでみました。しかし、答えが合いません。どうやら、根を通るパス以外にもさらに大きくなるパスが存在するようです。ここで紙にさまざまなパスを書いて観察してみると、根からの距離が最大になる頂点の祖先がLCAとなるようなパスが答えになりうると推測できました。

# 「circle cycle」

円を大きくしていく問題が最近もどこかで出たような気がします・・・。サイクル検出はUnionFindを使うと楽、ということを念頭に置いて解きました。点同士の間に仮想的な辺を作り、それぞれの辺を長さで昇順にソートします。順番に辺をつなげていき、同じ連結成分の間に辺ができたとき、それがサイクルです。なんだかクラスカル法と似ていますね。

# 「buy and fly」

のけぞってしまうほど面倒くさそうな問題文ですが、制約を読むとチケットの枚数が極小さい上に、頂点数もそんなにないです。つまり、現在どのチケットを持っているかの状態を保持していても間に合います。こう考えると、何のことはない。頂点数を増やして最短路として解くことができます。暑さと日頃の疲れで実装は遅々として進まず……。

# おしまい

残りの問題は、いろいろ考えたけど解けませんでした。
最近、体力や気力がまったく残っていないので、深く考えることができなくなりました。悲しいです。